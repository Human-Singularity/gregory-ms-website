{{- with .Title | default .Site.Title }}
<title>{{ . }}</title>
<meta property="og:title" content="{{ . }}" />
<meta name="twitter:title" content="{{ . }}" />
{{- end }}

{{- with .Description | default .Params.description | default .Summary | default .Site.Params.description }}
<meta name="description" content="{{ . | plainify | htmlUnescape | replaceRE `\s+` ` ` | strings.TrimSpace }}" />
<meta property="og:description" content="{{ . | plainify | htmlUnescape | replaceRE `\s+` ` ` | strings.TrimSpace }}" />
<meta name="twitter:description" content="{{ . | plainify | htmlUnescape | replaceRE `\s+` ` ` | strings.TrimSpace }}" />
{{- end }}

<meta property="og:url" content="{{ .Permalink }}" />
<meta property="og:site_name" content="{{ .Site.Title }}" />
<meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}" />

{{- with .Site.Params.social.twitter }}
<meta name="twitter:site" content="@{{ . }}" />
{{- end }}

{{- $images := slice -}}
{{- if .Params.images -}}
    {{- $images = $images | append .Params.images -}}
{{- else -}}
    {{- $images = $images | append .Site.Params.logo -}}
{{- end -}}

{{- with $images -}}
    {{- range . -}}
        <meta property="og:image" content="{{ . | absURL }}" />
        <meta name="twitter:image" content="{{ . | absURL }}" />
    {{- end -}}
{{- end -}}

<meta name="twitter:card" content="summary_large_image" />
